(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{590:function(s,a,n){"use strict";n.r(a);var t=n(11),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("p",[s._v("当然上一篇的直接格式化新挂载的操作，也有当初的考量，其实说白了，任何的操作，都是根据你自己当前的实际情况来作出相对应的方案的。")]),s._v(" "),n("p",[s._v("上次扩容之所以采用直接挂在新磁盘的方式，有两点重要原因，一方面原本旧挂载的分区就是一个普通分区，并没有做成逻辑卷，这点很重要，基本上决定了你没办法再重新来做了。另一方面就是那次扩容是 T 级别的，像这种庞大的动静，还是让原有的磁盘安静的做一个 “美盘子” 就好了，不可轻易打扰啊。")]),s._v(" "),n("p",[s._v("那么现在进入今天的正题，说一下如何在原有逻辑卷基础上进行扩容。")]),s._v(" "),n("h2",{attrs:{id:"_1-报警。"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-报警。"}},[s._v("#")]),s._v(" 1，报警。")]),s._v(" "),n("p",[s._v("还是风平浪静的一个下午，我们乖乖的"),n("code",[s._v("zabbix")]),s._v("对接的钉钉报警又来通知啦。")]),s._v(" "),n("p",[n("img",{attrs:{src:"http://t.eryajf.net/imgs/2021/09/05c4c85d995ef45d.jpg",alt:"image"}})]),s._v(" "),n("p",[s._v("通过报警很容易得知，磁盘空间已经不足 20% 了。那就先来一波查看呗。")]),s._v(" "),n("h2",{attrs:{id:"_2-巡查。"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-巡查。"}},[s._v("#")]),s._v(" 2，巡查。")]),s._v(" "),n("p",[s._v("先看 zabbix 上边显示的，容量正一点一点被用去。")]),s._v(" "),n("p",[n("img",{attrs:{src:"http://t.eryajf.net/imgs/2021/09/ee68d4eefc0a019d.jpg",alt:"image"}})]),s._v(" "),n("p",[s._v("然后去服务器上看：")]),s._v(" "),n("p",[n("img",{attrs:{src:"http://t.eryajf.net/imgs/2021/09/73feba7680d7fc00.jpg",alt:"image"}})]),s._v(" "),n("p",[s._v("嗯哼，这台机器貌似应该不是只有 50G 的额，果然，不一会儿，当初创建此机器的小伙伴说给到的容量是 150G 的，应该是没有完整分配出来。")]),s._v(" "),n("p",[s._v("查看磁盘：")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("fdisk")]),s._v(" -l \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:"http://t.eryajf.net/imgs/2021/09/cac9251ab6e14b5f.jpg",alt:"image"}})]),s._v(" "),n("p",[s._v("果然通过查看发现原本分配 150G 的磁盘只适用了 50 个 G，而且刚好之前是通过逻辑卷的方式进行的磁盘管理，那么现在就通过 lvm 的特性直接对磁盘进行扩容呗。")]),s._v(" "),n("h2",{attrs:{id:"_3-分区。"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-分区。"}},[s._v("#")]),s._v(" 3，分区。")]),s._v(" "),n("p",[s._v("整套操作简化命令先罗列开来。")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("fdisk")]),s._v(" /dev/sda\n---》n\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#新增一个分区。")]),s._v("\n---》p\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#分区类型选择为主分区。")]),s._v("\n---》回车\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#可以填入3，也可以直接按其默认的直接回车。")]),s._v("\n---》回车\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#默认（起始扇区）")]),s._v("\n---》回车\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#默认（结束扇区）这里因为只剩下100G了，所以就全部分配了。")]),s._v("\n---》p\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#再次查看是否划分成功。")]),s._v("\n---》\n---》t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#修改分区类型。")]),s._v("\n---》回车\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#也就是默认的刚刚创建的3。")]),s._v("\n---》L\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#列出所有分区类型。")]),s._v("\n---》8e\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#填入8e，将刚创建的分区3修改为lvm。")]),s._v("\n---》p\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#此刻再次检查是否变成与2一样的lvm。")]),s._v("\n---》w\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#保存并退出。")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("p",[s._v("接下来将具体输出详细展示一遍。")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("fdisk")]),s._v(" /dev/sda\n \nWelcome to "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("fdisk")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("util-linux "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.23")]),s._v(".2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".\n \nChanges will remain "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" memory only, "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("until")]),s._v(" you decide to "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("write")]),s._v(" them.\nBe careful before using the "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("write")]),s._v(" command.\n \n \nCommand "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("m "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n \n---》p\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看一眼之前分区的情况。")]),s._v("\n \nDisk /dev/sda: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("161.1")]),s._v(" GB, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("161061273600")]),s._v(" bytes, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("314572800")]),s._v(" sectors\nUnits "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" sectors of "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" * "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" bytes\nSector size "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("logical/physical"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" bytes / "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" bytes\nI/O size "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("minimum/optimal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" bytes / "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" bytes\nDisk label type: dos\nDisk identifier: 0x000312a8\n \n   Device Boot      Start         End      Blocks   Id  System\n/dev/sda1   *        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2048")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("718847")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("358400")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("83")]),s._v("  Linux\n/dev/sda2          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("718848")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("104857599")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("52069376")]),s._v("   8e  Linux LVM\n \nCommand "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("m "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n \n---》n\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#新增一个分区。")]),s._v("\n \nPartition type:\n   p   primary "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" primary, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" extended, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   e   extended\nSelect "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default p"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n \n---》p\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#分区类型选择为主分区。")]),s._v("\n \nPartition number "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3,4")]),s._v(", default "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n \n---》回车\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#可以填入3，也可以直接按其默认的直接回车。")]),s._v("\n \nLast sector, +sectors or +size"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("K,M,G"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("104857600")]),s._v("-314572799, default "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("314572799")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n \n---》回车\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#默认（起始扇区）")]),s._v("\n---》回车\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#默认（结束扇区）这里因为只剩下100G了，所以就全部分配了。")]),s._v("\n \nUsing default value "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("314572799")]),s._v("\nPartition "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" of "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" Linux and of size "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(" GiB is "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v("\n \nCommand "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("m "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n \n---》p\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#再次查看是否划分成功。")]),s._v("\n \nDisk /dev/sda: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("161.1")]),s._v(" GB, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("161061273600")]),s._v(" bytes, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("314572800")]),s._v(" sectors\nUnits "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" sectors of "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" * "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" bytes\nSector size "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("logical/physical"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" bytes / "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" bytes\nI/O size "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("minimum/optimal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" bytes / "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" bytes\nDisk label type: dos\nDisk identifier: 0x000312a8\n \n   Device Boot      Start         End      Blocks   Id  System\n/dev/sda1   *        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2048")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("718847")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("358400")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("83")]),s._v("  Linux\n/dev/sda2          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("718848")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("104857599")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("52069376")]),s._v("   8e  Linux LVM\n/dev/sda3       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("104857600")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("314572799")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("104857600")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("83")]),s._v("  Linux\n \nCommand "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("m "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n \n---》t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#修改分区类型。")]),s._v("\n \nPartition number "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("-3, default "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n \n---》回车\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#也就是默认的刚刚创建的3。")]),s._v("\n \nHex code "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type L to list all codes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n \n---》L\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#列出所有分区类型。")]),s._v("\n \n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  Empty           "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v("  NEC DOS         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("81")]),s._v("  Minix / old Lin bf  Solaris\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("  FAT12           "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v("  Hidden NTFS Win "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("82")]),s._v("  Linux swap / So c1  DRDOS/sec "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("FAT-\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("  XENIX root      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("39")]),s._v("  Plan "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("83")]),s._v("  Linux           c4  DRDOS/sec "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("FAT-\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("  XENIX usr       3c  PartitionMagic  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("84")]),s._v("  OS/2 hidden C:  c6  DRDOS/sec "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("FAT-\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("  FAT16 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("32M      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("40")]),s._v("  Venix "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("80286")]),s._v("     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("85")]),s._v("  Linux extended  c7  Syrinx\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("  Extended        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("41")]),s._v("  PPC PReP Boot   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("86")]),s._v("  NTFS volume "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" da  Non-FS data\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("  FAT16           "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("42")]),s._v("  SFS             "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("87")]),s._v("  NTFS volume "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" db  CP/M / CTOS / "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("  HPFS/NTFS/exFAT 4d  QNX4.x          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("88")]),s._v("  Linux plaintext de  Dell Utility\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("  AIX             4e  QNX4.x 2nd part 8e  Linux LVM       "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("df")]),s._v("  BootIt\n "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("  AIX bootable    4f  QNX4.x 3rd part "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("93")]),s._v("  Amoeba          e1  DOS access\n a  OS/2 Boot Manag "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v("  OnTrack DM      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("94")]),s._v("  Amoeba BBT      e3  DOS R/O\n b  W95 FAT32       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("51")]),s._v("  OnTrack DM6 Aux 9f  BSD/OS          e4  SpeedStor\n c  W95 FAT32 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("LBA"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("52")]),s._v("  CP/M            a0  IBM Thinkpad hi eb  BeOS fs\n e  W95 FAT16 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("LBA"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),s._v("  OnTrack DM6 Aux a5  FreeBSD         ee  GPT\n f  W95 Ext"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'d (LBA) 54  OnTrackDM6      a6  OpenBSD         ef  EFI (FAT-12/16/\n10  OPUS            55  EZ-Drive        a7  NeXTSTEP        f0  Linux/PA-RISC b\n11  Hidden FAT12    56  Golden Bow      a8  Darwin UFS      f1  SpeedStor\n12  Compaq diagnost 5c  Priam Edisk     a9  NetBSD          f4  SpeedStor\n14  Hidden FAT16 <3 61  SpeedStor       ab  Darwin boot     f2  DOS secondary\n16  Hidden FAT16    63  GNU HURD or Sys af  HFS / HFS+      fb  VMware VMFS\n17  Hidden HPFS/NTF 64  Novell Netware  b7  BSDI fs         fc  VMware VMKCORE\n18  AST SmartSleep  65  Novell Netware  b8  BSDI swap       fd  Linux raid auto\n1b  Hidden W95 FAT3 70  DiskSecure Mult bb  Boot Wizard hid fe  LANstep\n1c  Hidden W95 FAT3 75  PC/IX           be  Solaris boot    ff  BBT\n1e  Hidden W95 FAT1 80  Old Minix\nHex code (type L to list all codes):\n \n---》8e\t\t#填入8e，将刚创建的分区3修改为lvm。\n \nChanged type of partition '")]),s._v("Linux"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("' to '")]),s._v("Linux LVM'\n \nCommand "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("m "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n \n---》p\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#此刻再次检查是否变成与2一样的lvm。")]),s._v("\n \nDisk /dev/sda: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("161.1")]),s._v(" GB, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("161061273600")]),s._v(" bytes, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("314572800")]),s._v(" sectors\nUnits "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" sectors of "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" * "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" bytes\nSector size "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("logical/physical"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" bytes / "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" bytes\nI/O size "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("minimum/optimal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" bytes / "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(" bytes\nDisk label type: dos\nDisk identifier: 0x000312a8\n \n   Device Boot      Start         End      Blocks   Id  System\n/dev/sda1   *        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2048")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("718847")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("358400")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("83")]),s._v("  Linux\n/dev/sda2          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("718848")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("104857599")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("52069376")]),s._v("   8e  Linux LVM\n/dev/sda3       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("104857600")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("314572799")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("104857600")]),s._v("   8e  Linux LVM\n \nCommand "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("m "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n \n---》w\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#保存并退出。")]),s._v("\n \nThe partition table has been altered"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n \nCalling ioctl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" to re-read partition table.\n \nWARNING: Re-reading the partition table failed with error "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(": Device or resource busy.\nThe kernel still uses the old table. The new table will be used at\nthe next "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("reboot")]),s._v(" or after you run partprobe"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" or kpartx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nSyncing disks.\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br"),n("span",{staticClass:"line-number"},[s._v("94")]),n("br"),n("span",{staticClass:"line-number"},[s._v("95")]),n("br"),n("span",{staticClass:"line-number"},[s._v("96")]),n("br"),n("span",{staticClass:"line-number"},[s._v("97")]),n("br"),n("span",{staticClass:"line-number"},[s._v("98")]),n("br"),n("span",{staticClass:"line-number"},[s._v("99")]),n("br"),n("span",{staticClass:"line-number"},[s._v("100")]),n("br"),n("span",{staticClass:"line-number"},[s._v("101")]),n("br"),n("span",{staticClass:"line-number"},[s._v("102")]),n("br"),n("span",{staticClass:"line-number"},[s._v("103")]),n("br"),n("span",{staticClass:"line-number"},[s._v("104")]),n("br"),n("span",{staticClass:"line-number"},[s._v("105")]),n("br"),n("span",{staticClass:"line-number"},[s._v("106")]),n("br"),n("span",{staticClass:"line-number"},[s._v("107")]),n("br"),n("span",{staticClass:"line-number"},[s._v("108")]),n("br"),n("span",{staticClass:"line-number"},[s._v("109")]),n("br"),n("span",{staticClass:"line-number"},[s._v("110")]),n("br"),n("span",{staticClass:"line-number"},[s._v("111")]),n("br"),n("span",{staticClass:"line-number"},[s._v("112")]),n("br"),n("span",{staticClass:"line-number"},[s._v("113")]),n("br"),n("span",{staticClass:"line-number"},[s._v("114")]),n("br"),n("span",{staticClass:"line-number"},[s._v("115")]),n("br"),n("span",{staticClass:"line-number"},[s._v("116")]),n("br"),n("span",{staticClass:"line-number"},[s._v("117")]),n("br"),n("span",{staticClass:"line-number"},[s._v("118")]),n("br"),n("span",{staticClass:"line-number"},[s._v("119")]),n("br"),n("span",{staticClass:"line-number"},[s._v("120")]),n("br"),n("span",{staticClass:"line-number"},[s._v("121")]),n("br"),n("span",{staticClass:"line-number"},[s._v("122")]),n("br"),n("span",{staticClass:"line-number"},[s._v("123")]),n("br"),n("span",{staticClass:"line-number"},[s._v("124")]),n("br"),n("span",{staticClass:"line-number"},[s._v("125")]),n("br"),n("span",{staticClass:"line-number"},[s._v("126")]),n("br"),n("span",{staticClass:"line-number"},[s._v("127")]),n("br"),n("span",{staticClass:"line-number"},[s._v("128")]),n("br"),n("span",{staticClass:"line-number"},[s._v("129")]),n("br"),n("span",{staticClass:"line-number"},[s._v("130")]),n("br"),n("span",{staticClass:"line-number"},[s._v("131")]),n("br"),n("span",{staticClass:"line-number"},[s._v("132")]),n("br"),n("span",{staticClass:"line-number"},[s._v("133")]),n("br")])]),n("p",[s._v("此时保存退出之后可以先通过"),n("code",[s._v("ls /dev/sda3")]),s._v("看一下是否有 sda3。如果没有，那么使用"),n("code",[s._v("partprobe")]),s._v("命令进行加载，如果条件允许，也可以通过重启机器进行加载。")]),s._v(" "),n("h2",{attrs:{id:"_4-格式化。"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-格式化。"}},[s._v("#")]),s._v(" 4，格式化。")]),s._v(" "),n("p",[s._v("格式化分区。")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("---》mkfs.ext3 /dev/sda3\n \n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mke2fs")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.42")]),s._v(".9 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v("-Dec-2013"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nFilesystem "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("label")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\nOS type: Linux\nBlock "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("size")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("log"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nFragment "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("size")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("log"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Stride")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" blocks, Stripe "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("width")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" blocks\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6553600")]),s._v(" inodes, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("26214400")]),s._v(" blocks\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1310720")]),s._v(" blocks "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.00")]),s._v("%"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" reserved "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" the super user\nFirst data "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("block")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nMaximum filesystem "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("blocks")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4294967296")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("800")]),s._v(" block "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("groups")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("32768")]),s._v(" blocks per group, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("32768")]),s._v(" fragments per group\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8192")]),s._v(" inodes per group\nSuperblock backups stored on blocks:\n\t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("32768")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("98304")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("163840")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("229376")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("294912")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("819200")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("884736")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1605632")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2654208")]),s._v(",\n\t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096000")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7962624")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("11239424")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20480000")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("23887872")]),s._v("\n \nAllocating group tables: "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\nWriting inode tables: "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\nCreating journal "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("32768")]),s._v(" blocks"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\nWriting superblocks and filesystem accounting information:\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br")])]),n("p",[s._v("格式化之后就可以进行扩容的操作了。")]),s._v(" "),n("p",[n("img",{attrs:{src:"http://t.eryajf.net/imgs/2021/09/19d2847bb0ff3414.jpg",alt:"image"}})]),s._v(" "),n("h2",{attrs:{id:"_5-扩容。"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-扩容。"}},[s._v("#")]),s._v(" 5，扩容。")]),s._v(" "),n("p",[s._v("操作之前首先查看一下原来的情况。")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("---》pvscan\n \nPV /dev/sda2   VG centos   lvm2 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("49.66")]),s._v(" GiB / "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    free"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  Total: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("49.66")]),s._v(" GiB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" / "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" use: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("49.66")]),s._v(" GiB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" / "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" no VG: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n \n---》vgscan\n \n  Reading all physical volumes.  This may take a while"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n  Found volume group "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"centos"')]),s._v(" using metadata "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" lvm2\n \n---》lvscan\n \n  ACTIVE            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/dev/centos/root'")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("49.66")]),s._v(" GiB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" inherit\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("p",[s._v("这里可以清晰看到原来使用着的 sda2 到的 50 个 G。")]),s._v(" "),n("p",[s._v("接下来进入正题，依旧先把操作步骤简化命令列出。")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("---》pvcreate /dev/sda3\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#把新加的分区创建为物理卷。")]),s._v("\n---》vgextend centos /dev/sda3\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将刚创建的物理卷添加到卷组centos中。（注意此处的centos是通过刚才vgscan得到的。）")]),s._v("\n---》pvscan\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#再次查看物理卷情况。")]),s._v("\n---》vgscan\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#再次查看卷组情况。")]),s._v("\n---》vgdisplay -v\t\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#详细查看卷组。")]),s._v("\n---》lvextend -l +25599 /dev/centos/root\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#直接在原有逻辑卷上进行扩容。25599是通过刚才详细查看卷组得到的free PE数。")]),s._v("\n---》\n---》xfs_growfs /dev/centos/root\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#通过此命令让操作系统识别刚刚扩容的分区。这个命令适用在centos 7系统中。如果是6的，则用resize2fs -f /dev/centos/root")]),s._v("\n---》df -h\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("接着展示以下每个命令的输出结果。")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("---》pvcreate /dev/sda3\n \nWARNING: ext3 signature detected on /dev/sda3 at offset "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1080")]),s._v(". Wipe it? "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("y/n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": y\n  Wiping ext3 signature on /dev/sda3.\n  Physical volume "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/dev/sda3"')]),s._v(" successfully created\n \n---》vgextend centos /dev/sda3\t\n \n  Volume group "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"centos"')]),s._v(" successfully extended\n \n---》pvscan\n \n  PV /dev/sda2   VG centos   lvm2 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("49.66")]),s._v(" GiB / "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    free"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  PV /dev/sda3   VG centos   lvm2 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("100.00")]),s._v(" GiB / "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("100.00")]),s._v(" GiB free"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  Total: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("149.65")]),s._v(" GiB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" / "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" use: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("149.65")]),s._v(" GiB"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" / "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" no VG: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n \n---》vgscan\n \n  Reading all physical volumes.  This may take a while"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n  Found volume group "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"centos"')]),s._v(" using metadata "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v(" lvm2\n \n---》vgdisplay -v\n \n    Using volume group"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" on "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" line.\n  --- Volume group ---\n  VG Name               centos\n  System ID\n  Format                lvm2\n  Metadata Areas        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n  Metadata Sequence No  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n  VG Access             read/write\n  VG Status             resizable\n  MAX LV                "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n  Cur LV                "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n  Open LV               "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n  Max PV                "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n  Cur PV                "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n  Act PV                "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n  VG Size               "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("149.65")]),s._v(" GiB\n  PE Size               "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.00")]),s._v(" MiB\n  Total PE              "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("38311")]),s._v("\n  Alloc PE / Size       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12712")]),s._v(" / "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("49.66")]),s._v(" GiB\n  Free  PE / Size       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25599")]),s._v(" / "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("100.00")]),s._v(" GiB\n  VG UUID               xvU7EX-3SXG-z21B-LXGn-TO00-RzvQ-n7zUV0\n \n  --- Logical volume ---\n  LV Path                /dev/centos/root\n  LV Name                root\n  VG Name                centos\n  LV UUID                x8lIiU-nuPh-MtXV-aQRo-bOZ4-dQiN-7kE3wT\n  LV Write Access        read/write\n  LV Creation host, "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" localhost, "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2017")]),s._v("-12-29 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(":04:48 +0800\n  LV Status              available\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# open                 1")]),s._v("\n  LV Size                "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("49.66")]),s._v(" GiB\n  Current LE             "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12712")]),s._v("\n  Segments               "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n  Allocation             inherit\n  Read ahead sectors     auto\n  - currently "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" to     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8192")]),s._v("\n  Block device           "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("253")]),s._v(":0\n \n  --- Physical volumes ---\n  PV Name               /dev/sda2\n  PV UUID               PkLNer-Uz8l-Fw1y-AKzz-DvP5-1P4T-76paP6\n  PV Status             allocatable\n  Total PE / Free PE    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12712")]),s._v(" / "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n \n  PV Name               /dev/sda3\n  PV UUID               50sSuP-0X3I-oWke-keCp-Hmfo-XMW7-GQkRBp\n  PV Status             allocatable\n  Total PE / Free PE    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25599")]),s._v(" / "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25599")]),s._v("\n \n---》lvextend -l +25599 /dev/centos/root\n \n  Size of logical volume centos/root changed from "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("49.66")]),s._v(" GiB "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("12712")]),s._v(" extents"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" to "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("149.65")]),s._v(" GiB "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("38311")]),s._v(" extents"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".\n  Logical volume root successfully resized.\n \n---》xfs_growfs /dev/centos/root\n \nmeta-data"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/dev/mapper/centos-root "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("isize")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("256")]),s._v("    "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("agcount")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("agsize")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3254272")]),s._v(" blks\n         "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("                       "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("sectsz")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("attr")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("projid32bit")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("                       "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("crc")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("        "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("finobt")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\ndata     "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("                       "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("bsize")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("blocks")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("13017088")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("imaxpct")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("                       "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("sunit")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("swidth")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" blks\nnaming   "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("version "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("              "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("bsize")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("   ascii-ci"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ftype")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nlog      "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("internal               "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("bsize")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("blocks")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6356")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("version")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("                       "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("sectsz")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("sunit")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" blks, lazy-count"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nrealtime "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("none                   "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("extsz")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("blocks")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(", "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("rtextents")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\ndata blocks changed from "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("13017088")]),s._v(" to "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("39230464")]),s._v("\n \n---》df -h\n \nFilesystem               Size  Used Avail Use% Mounted on\n/dev/mapper/centos-root  150G   40G  110G  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v("% /\ndevtmpfs                 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".9G     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".9G   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /dev\ntmpfs                    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".9G     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".9G   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /dev/shm\ntmpfs                    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".9G   33M  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".8G   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("% /run\ntmpfs                    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".9G     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(".9G   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /sys/fs/cgroup\n/dev/sda1                347M  115M  233M  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v("% /boot\ntmpfs                    783M     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  783M   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /run/user/0\ntmpfs                    783M     "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  783M   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("% /run/user/1000\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br"),n("span",{staticClass:"line-number"},[s._v("94")]),n("br"),n("span",{staticClass:"line-number"},[s._v("95")]),n("br"),n("span",{staticClass:"line-number"},[s._v("96")]),n("br"),n("span",{staticClass:"line-number"},[s._v("97")]),n("br"),n("span",{staticClass:"line-number"},[s._v("98")]),n("br"),n("span",{staticClass:"line-number"},[s._v("99")]),n("br"),n("span",{staticClass:"line-number"},[s._v("100")]),n("br"),n("span",{staticClass:"line-number"},[s._v("101")]),n("br"),n("span",{staticClass:"line-number"},[s._v("102")]),n("br")])]),n("p",[s._v("由此可见一次平稳的扩容就这么完成了。所以这也是很多时候提倡适用 lvm 进行磁盘分区管理的一个理由之一。")]),s._v(" "),n("h2",{attrs:{id:"_6-感恩。"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-感恩。"}},[s._v("#")]),s._v(" 6，感恩。")]),s._v(" "),n("p",[s._v("当我看到扩容已经成功之后，就看到乖巧的 zabbix 通知告警问题修复了，这里再次夸一下 zabbix 同学。")]),s._v(" "),n("p",[n("img",{attrs:{src:"http://t.eryajf.net/imgs/2021/09/9a3d32da254a9fee.jpg",alt:"image"}})]),s._v(" "),n("p",[s._v("参考链接：http://blog.csdn.net/remote_roamer/article/details/50670802")])])}),[],!1,null,null,null);a.default=e.exports}}]);